<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table>
        <tbody>
            <tr>
                <td><strong>STT</strong></td>
                <td><strong>Tiếng Trung</strong></td>
                <td><strong>Phiên âm</strong></td>
                <td><strong>Nghĩa tiếng Việt</strong></td>
            </tr>
            <tr>
                <td>1</td>
                <td>爱</td>
                <td>ài</td>
                <td>yêu</td>
            </tr>
            <tr>
                <td>2</td>
                <td>八</td>
                <td>bā</td>
                <td>tám</td>
            </tr>
            <tr>
                <td>3</td>
                <td>爸爸</td>
                <td>bàba</td>
                <td>bố</td>
            </tr>
            <tr>
                <td>4</td>
                <td>杯子</td>
                <td>bēizi</td>
                <td>cốc, chén, ly, tách</td>
            </tr>
            <tr>
                <td>5</td>
                <td>北京</td>
                <td>běijīng</td>
                <td>Bắc Kinh</td>
            </tr>
            <tr>
                <td>6</td>
                <td>本</td>
                <td>běn</td>
                <td>quyển, gốc, vốn, thân</td>
            </tr>
            <tr>
                <td>7</td>
                <td>不客气</td>
                <td>bú kèqì</td>
                <td>không có gì</td>
            </tr>
            <tr>
                <td>8</td>
                <td>不</td>
                <td>bù</td>
                <td>không, chưa</td>
            </tr>
            <tr>
                <td>9</td>
                <td>菜</td>
                <td>cài</td>
                <td>món ăn, thức ăn</td>
            </tr>
            <tr>
                <td>10</td>
                <td>茶</td>
                <td>chá</td>
                <td>trà</td>
            </tr>
            <tr>
                <td>11</td>
                <td>吃</td>
                <td>chī</td>
                <td>ăn</td>
            </tr>
            <tr>
                <td>12</td>
                <td>出租车</td>
                <td>chūzū chē</td>
                <td>Taxi</td>
            </tr>
            <tr>
                <td>13</td>
                <td>打电话</td>
                <td>dǎ diànhuà</td>
                <td>gọi điện thoại</td>
            </tr>
            <tr>
                <td>14</td>
                <td>大</td>
                <td>dà</td>
                <td>to, lớn</td>
            </tr>
            <tr>
                <td>15</td>
                <td>的</td>
                <td>de</td>
                <td>của</td>
            </tr>
            <tr>
                <td>16</td>
                <td>点</td>
                <td>diǎn</td>
                <td>điểm, giờ</td>
            </tr>
            <tr>
                <td>17</td>
                <td>电脑</td>
                <td>diànnǎo</td>
                <td>máy vi tính</td>
            </tr>
            <tr>
                <td>18</td>
                <td>电视</td>
                <td>diànshì</td>
                <td>truyền hình, ti-vi</td>
            </tr>
            <tr>
                <td>19</td>
                <td>电影</td>
                <td>diànyǐng</td>
                <td>phim</td>
            </tr>
            <tr>
                <td>20</td>
                <td>东西</td>
                <td>dōngxi</td>
                <td>đồ</td>
            </tr>
            <tr>
                <td>21</td>
                <td>都</td>
                <td>dōu</td>
                <td>đều</td>
            </tr>
            <tr>
                <td>22</td>
                <td>读</td>
                <td>dú</td>
                <td>đọc</td>
            </tr>
            <tr>
                <td>23</td>
                <td>对不起</td>
                <td>duìbùqǐ</td>
                <td>xin lỗi</td>
            </tr>
            <tr>
                <td>24</td>
                <td>多</td>
                <td>duō</td>
                <td>nhiều</td>
            </tr>
            <tr>
                <td>25</td>
                <td>多少</td>
                <td>duōshǎo</td>
                <td>bao nhiêu, mấy</td>
            </tr>
            <tr>
                <td>26</td>
                <td>儿子</td>
                <td>érzi</td>
                <td>con trai</td>
            </tr>
            <tr>
                <td>27</td>
                <td>二</td>
                <td>èr</td>
                <td>hai</td>
            </tr>
            <tr>
                <td>28</td>
                <td>饭馆</td>
                <td>fànguǎn</td>
                <td>Quán cơm</td>
            </tr>
            <tr>
                <td>29</td>
                <td>飞机</td>
                <td>fēijī</td>
                <td>máy bay</td>
            </tr>
            <tr>
                <td>30</td>
                <td>分钟</td>
                <td>fēnzhōng</td>
                <td>phút</td>
            </tr>
            <tr>
                <td>31</td>
                <td>高兴</td>
                <td>gāoxìng</td>
                <td>vui vẻ, vui mừng</td>
            </tr>
            <tr>
                <td>32</td>
                <td>个</td>
                <td>gè</td>
                <td>cái</td>
            </tr>
            <tr>
                <td>33</td>
                <td>工作</td>
                <td>gōngzuò</td>
                <td>làm việc</td>
            </tr>
            <tr>
                <td>34</td>
                <td>狗</td>
                <td>gǒu</td>
                <td>chó</td>
            </tr>
            <tr>
                <td>35</td>
                <td>汉语</td>
                <td>hànyǔ</td>
                <td>tiếng Hán</td>
            </tr>
            <tr>
                <td>36</td>
                <td>好</td>
                <td>hǎo</td>
                <td>tốt,hay</td>
            </tr>
            <tr>
                <td>37</td>
                <td>喝</td>
                <td>hē</td>
                <td>uống</td>
            </tr>
            <tr>
                <td>38</td>
                <td>和</td>
                <td>hé</td>
                <td>và, với</td>
            </tr>
            <tr>
                <td>39</td>
                <td>很</td>
                <td>hěn</td>
                <td>rất, lắm</td>
            </tr>
            <tr>
                <td>40</td>
                <td>后面</td>
                <td>hòumiàn</td>
                <td>phía sau, mặt sau</td>
            </tr>
            <tr>
                <td>41</td>
                <td>回</td>
                <td>huí</td>
                <td>lần, về, quay lại</td>
            </tr>
            <tr>
                <td>42</td>
                <td>会</td>
                <td>huì</td>
                <td>hội, hợp</td>
            </tr>
            <tr>
                <td>43</td>
                <td>火车站</td>
                <td>huǒchē zhàn</td>
                <td>ga tàu</td>
            </tr>
            <tr>
                <td>44</td>
                <td>几</td>
                <td>jǐ</td>
                <td>mấy, vài</td>
            </tr>
            <tr>
                <td>45</td>
                <td>家</td>
                <td>jiā</td>
                <td>gia đình, nhà</td>
            </tr>
            <tr>
                <td>46</td>
                <td>叫</td>
                <td>jiào</td>
                <td>gọi, kêu</td>
            </tr>
            <tr>
                <td>47</td>
                <td>今天</td>
                <td>jīntiān</td>
                <td>hôm nay</td>
            </tr>
            <tr>
                <td>48</td>
                <td>九</td>
                <td>jiǔ</td>
                <td>chín</td>
            </tr>
            <tr>
                <td>49</td>
                <td>开</td>
                <td>kāi</td>
                <td>mở, nở</td>
            </tr>
            <tr>
                <td>50</td>
                <td>看</td>
                <td>kàn</td>
                <td>nhìn, xem</td>
            </tr>
        </tbody>
    </table>
    <script>
        function getRandomNumber(limit) {
            return Math.floor(Math.random() * limit).toString();
        }

        function filterSymbols(excludeSymbols, group) {
            let newGroup = group;
            excludeSymbols.forEach((symbol) => {
                newGroup = newGroup.replace(symbol, '');
            });

            return newGroup;
        }

        function createId(availableChars, idLength) {
            let id = '';

            for (let i = 0; i < idLength; i += 1) {
                id += availableChars[getRandomNumber(availableChars.length)];
            }

            return id;
        }

        function generateUniqueId({
            length = 20,
            useLetters = true,
            useNumbers = true,
            includeSymbols = [],
            excludeSymbols = [],
        } = {}) {
            let letters = 'abcdefghijklmnopqrstuvwxyz';
            let numbers = '0123456789';
            let availableChars = [];
            let lettersArr = [];
            let numbersArr = [];

            if (useLetters) {
                if (excludeSymbols.length) letters = filterSymbols(excludeSymbols, letters);
                lettersArr = letters.split('');
            }

            if (useNumbers) {
                if (excludeSymbols.length) numbers = filterSymbols(excludeSymbols, numbers);
                numbersArr = numbers.split('');
            }

            availableChars = [...lettersArr, ...numbersArr, ...includeSymbols];

            return createId(availableChars, length);
        }

        function getListVocabularies() {
            return Array.from(document.querySelectorAll('tr')).map(el => {
                let words = Array.from(el.querySelectorAll('td'));
                if (words?.length === 4) {
                    return {
                        word: words[1].innerText,
                        pronunciation: words[2].innerText,
                        meanings: [
                            {
                                wordType: "",
                                meaning: words[3].innerText,
                                examples: [
                                    {
                                        example: "",
                                        meaning: "",
                                    }
                                ],
                            }
                        ],
                        topicId: "7ye56hmhssxr20hj36b4"
                    }
                }

                return null;
            }).filter(item => item !== null).slice(1);
        }

        Array.prototype.trimListVocabularies = function() {
            // if (!window.pinyin) {
            //     return [];
            // }

            return this.map(item => {
                let result = {};

                result.word = item.word.replaceAll(' ', '');
                result.pronunciation = item.pronunciation;
                // result.pronunciation = window.pinyin(result.word);

                result.meanings = item.meanings.map(meaning => {
                    // let wordTypeId = '7do8r7szf5dy3ge95s6e';
                    // switch (meaning.wordType.trim().toLowerCase()) {
                    //     default:
                    //         break;
                    //     case 'num':
                    //     case 'n':
                    //         wordTypeId = 'c8sx4l5o12k2r2cbkd2n';
                    //         break;
                    //     case 'adj':
                    //         wordTypeId = 'qym0hk7i9j0p5ozexxp0';
                    //         break;
                    //     case 'v':
                    //         wordTypeId = 'apfya7t9ddd7nt9btsgy';
                    //         break;
                    //     case 'giới từ/giới từ chung':
                    //         wordTypeId = 'gtnyriek6m4ag4cfczp5';
                    //         break;
                    //     case 'adv':
                    //         wordTypeId = 'tnb4bc5p8h33cy019qci';
                    //         break;
                    //     case 'pron':
                    //         wordTypeId = 'iss2po1tch1ixacftmu0';
                    //         break;
                    //     case 'prep':
                    //         wordTypeId = 'gtnyriek6m4ag4cfczp5';
                    //         break;
                    //     case 'conj':
                    //         wordTypeId = '8tmz3eeqb3y2qw5jei0d';
                    //         break;
                    // }

                    let examples = meaning.examples.map(item => ({
                        ...item,
                        exampleBold: item.example.replaceAll(' ', '').replaceAll('〜', result.word),
                        example: item.example.replaceAll(' ', '').replaceAll('〜', `<b>${result.word}</b>`),
                    }));

                    return {
                        ...meaning,
                        examples,
                    }
                });

                return result;
            });
        }
    </script>
</body>
</html>