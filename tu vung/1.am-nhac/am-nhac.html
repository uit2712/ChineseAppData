<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getRandomNumber(limit) {
            return Math.floor(Math.random() * limit).toString();
        }

        function filterSymbols(excludeSymbols, group) {
            let newGroup = group;
            excludeSymbols.forEach((symbol) => {
                newGroup = newGroup.replace(symbol, '');
            });

            return newGroup;
        }

        function createId(availableChars, idLength) {
            let id = '';

            for (let i = 0; i < idLength; i += 1) {
                id += availableChars[getRandomNumber(availableChars.length)];
            }

            return id;
        }

        function generateUniqueId({
            length = 20,
            useLetters = true,
            useNumbers = true,
            includeSymbols = [],
            excludeSymbols = [],
        } = {}) {
            let letters = 'abcdefghijklmnopqrstuvwxyz';
            let numbers = '0123456789';
            let availableChars = [];
            let lettersArr = [];
            let numbersArr = [];

            if (useLetters) {
                if (excludeSymbols.length) letters = filterSymbols(excludeSymbols, letters);
                lettersArr = letters.split('');
            }

            if (useNumbers) {
                if (excludeSymbols.length) numbers = filterSymbols(excludeSymbols, numbers);
                numbersArr = numbers.split('');
            }

            availableChars = [...lettersArr, ...numbersArr, ...includeSymbols];

            return createId(availableChars, length);
        }

        const text = `
            古典音乐_Gǔdiǎn yīnyuè_âm nhạc cổ điển
            黑人音乐_Hēirén yīnyuè_ âm nhạc của người da đen
            教会音乐_Jiàohuì yīnyuè_âm nhạc giáo hội
            纯音乐_Chúnyīnyuè_âm nhạc thuần túy
            歌_Gē_bài hát
            流行歌曲_Liúxíng gēqǔ_bài hát được yêu thích
            摇篮曲_Yáolánqǔ_bài hát ru
            随想曲_Suíxiǎngqǔ_bản Capriccio
            小协奏曲_Xiǎoxiézòuqǔ_bản concertino
            协奏曲_Xiézòuqǔ_bản concerto
            大协奏曲_Dàxiézòuqǔ_bản concerto grosso
            安魂曲_Ānhúnqū_bản nhạc cầu siêu (requiem mass)
            弥撒曲_Mísāqǔ_bản nhạc lễ misa
            狂想曲_Kuángxiǎngqǔ_bản rapxôdi (Rhapsody)
            奏鸣曲_Zòumíngqǔ_bản sonata
            交响诗_Jiāoxiǎngshī_bản thơ giao hưởng (symphonic poem)
            音乐会_Yīnyuèhuì_buổi hòa nhạc
            巡回音乐会_Xúnhuí yīnyuèhuì_buổi hòa nhạc lưu động
            露天音乐会_Lùtiān yīnyuèhuì_buổi hòa nhạc ngoài trời
            独唱、独奏音乐会_Dúchàng, dúzòu yīnyuèhuì_buổi liên hoan văn nghệ có đơn ca, độc tấu
            艺术歌曲_Yìshù gēqǔ_ca khúc nghệ thuật
            歌剧_Gējù_ca kịch
            歌唱演员_Gēchàng yǎnyuán_ca sĩ
            流行歌手_Liúxíng gēshǒu_ca sĩ được yêu thích
            自编自唱的歌手_Zìbiān zìchàng de gēshǒu_ca sĩ tự biên tự diễn
            夜曲_Yèqǔ_dạ khúc (nocturne)
            民歌_Mín’gē_dân ca
            即兴演奏_Jíxìng yǎnzòu_diễn tấu ngẫu hứng
            布鲁斯_Bùlǔsī_điệu Blue
            小步舞曲_Xiǎobù wǔqǔ_điệu menuet
            拉格泰姆_Lāgétàimǔ_điệu ragtime
            华尔兹_Huá'ěrzī_điệu vanse
            音乐节_Yīnyuèjié_festival âm nhạc
            旋律_Xuánlǜ_giai điệu
            大歌剧_Dàgējù_grand opera
            进行曲_Jìnxíngqǔ_hành khúc
            器乐_Qìyuè_khí nhạc
            咏叹调_Yǒngtàndiào_khúc aria (khúc đơn ca trữ tình)
            前奏曲_Qiánzòuqǔ_khúc dạo
            即兴曲_Jíxìngqǔ_khúc ngẫu hứng
            小夜曲_Xiǎoyèqǔ_khúc nhạc chiều (serenade)
            幻想曲_Huànxiǎngqǔ_khúc phóng túng (fantasia)
            间奏曲_Jiànzòuqǔ_khúc trung gian (intermezzo)
            曲调_Qǔdiào_làn điệu
            鼓手_Gǔshǒu_người đánh trống, tay trống
            爵士乐米_Juéshìyuèmǐ_người mê nhạc jazz
            疯狂爵士乐_Fēngkuáng juéshìyuè_nhạc beat box
            古乐_Gǔyuè_nhạc cổ điển
            序曲_Xùqǔ_nhạc dạo
            民乐_Mínyuè_nhạc dân tộc
            电子音乐_Diànzǐ yīnyuè_nhạc điện tử
            管乐_Guǎnyuè_nhạc dùng cho bộ hơi
            弦乐_Xiányuè_nhạc dùng cho đàn dây
            管弦乐_Guǎnxiányuè_nhạc dùng cho đàn dây và hơi
            乡村音乐_Xiāngcūn yīnyuè_nhạc đồng quê
            通俗交响乐_Tōngsú jiāoxiǎngyuè_nhạc giao hưởng pop
            交响曲_Jiāoxiǎngqǔ_nhạc giao hưởng, bản giao hưởng
            爵士乐_Juéshìyuè_nhạc jazz
            自由爵士乐_Zìyóu juéshìyuè_nhạc jazz tự do
            轻音乐_Qīngyīnyuè_nhạc nhẹ
            福音歌_Fúyīngē_nhạc phúc âm
            通俗音乐_Tōngsú yīnyuè_ nhạc pop
            摇滚乐_Yáogǔnyuè_nhạc rock
            新摇滚_Xīnyáogǔn_nhạc rock mới
            室内乐_Shìnèiyuè_nhạc thính phòng
            小歌剧、轻歌剧_Xiǎogējù, qīnggējù_ôpêret (operetta – nhạc kịch hài, nhẹ nhàng, ngắn)
            清唱剧_Qīngchàngjù_ôratô (oratorio)
            编曲_Biānqǔ_soạn nhạc
            流行歌曲作者_Liúxíng gēqǔ zuòzhě_tác giả bài hát được ưa thích
            声乐_Shēngyuè_thanh nhạc
            黑人灵歌_Hēirén línggē_thánh ca của người da đen
            组曲_Zǔqǔ_tổ khúc
        `;
        const lines = text.split('\n').map(s => s.trim()).filter(s => s !== '');
        let listMeanings = [];
        const listVocabularies = lines.map(item => {
            const splittedData = item.split('_');
            if (splittedData.length === 3) {
                const wordId = generateUniqueId();
                listMeanings.push({
                    id: generateUniqueId(),
                    wordId,
                    meaning: splittedData[2].trim(),
                    wordTypeId: 'c8sx4l5o12k2r2cbkd2n',
                    createdDate: new Date(),
                    lastModifiedDate: new Date(),
                });

                return {
                    id: wordId,
                    word: splittedData[0].trim(),
                    pronunciation: splittedData[1].trim(),
                    topicId: 'vo1jcjejdcdboig6b9kn',
                    createdDate: new Date(),
                    lastModifiedDate: new Date(),
                }
            }

            return null;
        }).filter(item => item !== null);

        Array.prototype.toJson = function() {
            return JSON.stringify(this);
        }

        Array.prototype.getVocabularySQL = function() {
            return this.map(({ id, word, topicId, pronunciation, createdDate, lastModifiedDate }) => `INSERT INTO Vocabularies VALUES('${id}', N'${word}', '${topicId}', N'${pronunciation}', '${createdDate}', '${lastModifiedDate}')`).join(';\n');
        }

        Array.prototype.getMeaningSQL = function() {
            return this.map(({ id, meaning, wordTypeId, wordId, createdDate, lastModifiedDate }) => `INSERT INTO Meanings VALUES('${id}', N'${meaning}', '${wordTypeId}', '${wordId}', '${createdDate}', '${lastModifiedDate}')`).join(';\n');
        }
    </script>
</body>
</html>